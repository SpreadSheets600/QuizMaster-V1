<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}QuizMaster{% endblock %}</title>
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet" />
		<!-- Bootstrap Icons -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
			rel="stylesheet" />
		<style>
			:root {
			    --primary-color: #3a6ea5;
			    --secondary-color: #f0f7ff;
			    --accent-color: #c2e7ff;
			    --text-dark: #333;
			    --text-light: #6c757d;
			}

			body {
			    font-family: 'Inter', 'Segoe UI', sans-serif;
			    background-color: #f8f9fa;
			    color: var(--text-dark);
			}

			.navbar-brand {
			    font-weight: 600;
			    letter-spacing: 0.5px;
			}

			.sidebar {
			    background-color: white;
			    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
			    height: calc(100vh - 56px);
			}

			.nav-link {
			    color: var(--text-dark);
			    border-radius: 0.25rem;
			    margin-bottom: 0.5rem;
			    transition: all 0.2s ease;
			}

			.nav-link:hover, .nav-link.active {
			    background-color: var(--secondary-color);
			    color: var(--primary-color);
			}

			.nav-link i {
			    margin-right: 0.75rem;
			}

			.card {
			    border: none;
			    border-radius: 0.5rem;
			    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
			    transition: transform 0.2s ease;
			}

			.card:hover {
			    transform: translateY(-5px);
			}

			.card-header {
			    background-color: white;
			    border-bottom: none;
			    font-weight: 600;
			}

			.stat-card {
			    background-color: white;
			    border-left: 4px solid var(--primary-color);
			}

			.stat-icon {
			    background-color: var(--secondary-color);
			    color: var(--primary-color);
			    padding: 1rem;
			    border-radius: 0.5rem;
			}

			.table {
			    border-collapse: separate;
			    border-spacing: 0;
			}

			.table th {
			    background-color: var(--secondary-color);
			    color: var(--text-dark);
			    font-weight: 600;
			}

			.table-hover tbody tr:hover {
			    background-color: rgba(194, 231, 255, 0.15);
			}

			.badge-primary {
			    background-color: var(--primary-color);
			    color: white;
			}

			/* Add additional custom styles here */
			{% block additional_styles %} {% endblock %}
		</style>
	</head>
	<body>
		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
			<div class="container-fluid">
				<a class="navbar-brand" href="{{ url_for('auth.index') }}">
					<i class="bi bi-mortarboard-fill text-primary me-2"></i>QuizMaster
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav ms-auto">
						{% if current_user.is_authenticated %}
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								href="#"
								id="navbarDropdown"
								role="button"
								data-bs-toggle="dropdown">
								<i class="bi bi-person-circle"></i> {{ current_user.username }}
							</a>
							<ul class="dropdown-menu dropdown-menu-end">
								{% if current_user.role == 'admin' %}
								<li>
									<a
										class="dropdown-item"
										href="{{ url_for('admin.admin_dashboard') }}"
										><i class="bi bi-speedometer2 me-2"></i>Admin Dashboard</a
									>
								</li>
								<li><hr class="dropdown-divider" /></li>
								{% endif %}
								<li>
									<a class="dropdown-item" href="#"
										><i class="bi bi-person me-2"></i>Profile</a
									>
								</li>
								<li>
									<a class="dropdown-item" href="#"
										><i class="bi bi-gear me-2"></i>Settings</a
									>
								</li>
								<li><hr class="dropdown-divider" /></li>
								<li>
									<a class="dropdown-item" href="{{ url_for('auth.logout') }}"
										><i class="bi bi-box-arrow-right me-2"></i>Logout</a
									>
								</li>
							</ul>
						</li>
						{% else %}
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('auth.login') }}">Login</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('auth.register') }}"
								>Register</a
							>
						</li>
						{% endif %}
					</ul>
				</div>
			</div>
		</nav>

		<div
			class="container-fluid {% if not has_sidebar|default(false) %}mt-4{% endif %}">
			{% block flash_messages %} {% with messages =
			get_flashed_messages(with_categories=true) %} {% if messages %} {% for
			category, message in messages %}
			<div
				class="alert alert-{{ category }} alert-dismissible fade show"
				role="alert">
				{{ message }}
				<button
					type="button"
					class="btn-close"
					data-bs-dismiss="alert"
					aria-label="Close"></button>
			</div>
			{% endfor %} {% endif %} {% endwith %} {% endblock %} {% block sidebar
			%}{% block content %}{% endblock content %}{% endblock sidebar %}
		</div>

		<!-- Bootstrap Bundle with Popper -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

		{% block scripts %}{% endblock scripts %}
	</body>
</html>
